<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
     xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:pm="http://primefaces.org/mobile">

    <f:view renderKitId="PRIMEFACES_MOBILE" />
    
    <h:head>
      <style type="text/css">
          .ui-grid-a div {
              padding: 0em 0.5em;
          }
      </style>
    </h:head>
     
    <h:body>
    
    <pm:page id="login">
	    <pm:header title="Loteca Painel" swatch="b"></pm:header>
	    
	    
	     
	    <pm:content>
		    <h:form id="formMain"> 
			    <p:messages id="msgs" showDetail="true" showIcon="true"/>
				<p:panel header="Login">
					<pm:field>
					    <p:outputLabel for="usuario" value="Usuario:" />
					    <p:inputText id="usuario" value="#{bBUsuario.usuarioLogin.login}"/>
					</pm:field>
					 
					<pm:field>
					    <p:outputLabel for="password" value="Senha:" />
					    <p:password id="password" value="#{bBUsuario.usuarioLogin.senha}"/>
					</pm:field>
					<p:commandButton action="#{bBUsuario.loginMobile}" value="Login" update="msgs"/>
				    <p:button outcome="pm:home" value="Home" />
				</p:panel>
			</h:form>
		</pm:content>
	</pm:page>
	
	<pm:page id="home">
	    <pm:header title="Home" swatch="b"></pm:header>
	     <pm:content>
             <h:form id="homeForm">
                <p:outputPanel id="editFormPanel">
					<p:panel header="Menu">
						<p:commandButton action="#{bBHome.gerenciarMinhaLoteca2}" value="Minha Loteca"/>
					</p:panel>
			    </p:outputPanel>
			 </h:form>
		</pm:content>
	</pm:page>
	
	<pm:page id="loteca">
	    <pm:header title="Loteca" swatch="b">
            <p:button outcome="pm:home" value="Voltar" icon="ui-icon-arrow-l" styleClass="ui-btn-left ui-btn-inline"/>
            <p:button outcome="pm:cartelas" value="Minhas Cartelas" icon="ui-icon-arrow-r" styleClass="ui-btn-right ui-btn-inline"/>
        </pm:header>
	     
	    <pm:content>
	    	<h:form id="concursoForm">
			<p:panel header="Concursos">
				<pm:field>
				 	<h:outputText value="Concurso: "/>
				 	<p:selectOneMenu value="#{bBLoteca.loteca}" id="lotecasID" converter="lotecaConverter">
				 		<p:ajax event="change" update="concursoForm" listener="#{bBLoteca.selecionaLoteca}"></p:ajax>
				        <f:selectItems value="#{bBLoteca.lotecas}" var="l"  itemLabel="#{l.numConcurso}" itemValue="#{l}"/>
		            </p:selectOneMenu>
		       </pm:field>
			
				<h:dataTable id="tabelaLoteca"  var="p" value="#{bBLoteca.loteca.partidas}" width="100%" style="border:1px solid #f0f0f0;">
	
				<p:column  style="text-align:center; width:5px; #{p.statusJogo eq 'FINALIZADO'?'background-color:#d0d0d0;':p.statusJogo eq 'EM_ANDAMENTO'?'background-color:#FFFFCC;':''}">
					<f:facet name="header" >
						<h:outputText value=""/>
					</f:facet>
					<h:outputText value="#{p.sequencialJogo}"/>
					<f:facet name="footer">
		       			<h:outputText value="" style="font-weight:bold;"/>
		       		</f:facet>
				</p:column>
				<p:column style="#{p.statusJogo eq 'FINALIZADO'?'background-color:#d0d0d0;':p.statusJogo eq 'EM_ANDAMENTO'?'background-color:#FFFFCC;':''}}">
					<f:facet name="header">
						<h:outputText value="Mandante"/>
					</f:facet>
					<h:outputText value="#{p.time1.nome}"/>
					<f:facet name="footer">
		       			<h:outputText value="" style="font-weight:bold;"/>
		       		</f:facet>
				</p:column>
				<p:column style="text-align:center; width:30px;#{p.statusJogo eq 'FINALIZADO'?'background-color:#d0d0d0;':p.statusJogo eq 'EM_ANDAMENTO'?'background-color:#FFFFCC;':''}">
					<f:facet name="header">
						<h:outputText value=""/>
					</f:facet>
					<h:outputText value="#{p.golTime1} X #{p.golTime2} "/>
					<f:facet name="footer">
		       			<h:outputText value="" style="font-weight:bold;"/>
		       		</f:facet>
				</p:column>
				<p:column style="#{p.statusJogo eq 'FINALIZADO'?'background-color:#d0d0d0;':p.statusJogo eq 'EM_ANDAMENTO'?'background-color:#FFFFCC;':''}">
					<f:facet name="header">
						<h:outputText value="Visitante"/>
					</f:facet>
					<h:outputText value="#{p.time2.nome}"/>
					<f:facet name="footer">
		       			<h:outputText value="" style="font-weight:bold;"/>
		       		</f:facet>
				</p:column>
				<p:column style="text-align:center; width:15px; #{p.statusJogo eq 'FINALIZADO'?'background-color:#d0d0d0;':p.statusJogo eq 'EM_ANDAMENTO'?'background-color:#FFFFCC;':''}">
					<f:facet name="header">
						<h:outputText value=""/>
					</f:facet>
					<h:graphicImage value="/img/bola_rolando.gif" rendered="#{p.statusJogo eq 'EM_ANDAMENTO'}" style="width:20px;"/>
					<h:graphicImage value="/img/relogio.png" rendered="#{p.statusJogo eq 'AGENDADO'}" style="width:18px;"/>
					<h:graphicImage value="/img/apito.png" rendered="#{p.statusJogo eq 'FINALIZADO'}" style="width:20px;"/>
					<f:facet name="footer">
		       			<h:outputText value="" style="font-weight:bold;"/>
		       		</f:facet>
				</p:column>
				
		 	</h:dataTable>
				
			</p:panel>
			</h:form>
		</pm:content>
	</pm:page>
	
	<pm:page id="cartelas">
	    <pm:header title="Minhas Cartelas" swatch="b">
            <p:button outcome="pm:home" value="Voltar" icon="ui-icon-arrow-l" styleClass="ui-btn-left ui-btn-inline"/>
        </pm:header>
	     
	    <pm:content>
	    	<h:form id="formCartelas">
	    		<pm:field>
				 	<h:outputText value="Grupo de Cartelas: "/>
			 		<p:selectOneMenu value="#{bBLoteca.grupoCartela}" id="grupoCartelaID" converter="grupoCartelaConverter" rendered="#{not empty bBLoteca.gruposCartelas}">
			 			<p:ajax event="change" update="formCartelas" listener="#{bBLoteca.selecionaGrupoCartela}"></p:ajax>
			            <f:selectItems value="#{bBLoteca.gruposCartelas}" var="gc"  itemLabel="#{gc.nome}" itemValue="#{gc}"/>
			        </p:selectOneMenu>
		       </pm:field>
		        <ui:repeat var="c" value="#{bBLoteca.cartelas}">
				 	<h:dataTable var="pt" value="#{c.palpites}" rowIndexVar="index" paginator="false" width="100%"  rendered="#{not empty c.palpites}" >
				 		<f:facet name="header">
				 			<h:outputText value="Cartela #{c.seqCartela}"></h:outputText>
				 		</f:facet>
				 		
				 		<p:column style="text-align:center; #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value=""/>
							</f:facet>
							<h:outputText value="#{pt.partida.sequencialJogo}"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       			
				       		</f:facet>
						</p:column>
						<p:column style="text-align:right; #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value="Coluna 1"/>
							</f:facet>
							<h:outputText value="#{pt.partida.time1.nome}" />
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       			
				       		</f:facet>
						</p:column>
						<p:column style="text-align:right; #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value=""/>
							</f:facet>
							<pm:field><p:selectBooleanCheckbox value="#{pt.c1}" rendered="#{not c.concluida}"/></pm:field>
							<h:graphicImage value="/img/check_cinza_2.png" rendered="#{c.concluida and pt.c1}" style="width:18px;"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       			
				       		</f:facet>
						</p:column>
						<p:column style="text-align:center;  #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value=" X "/>
							</f:facet>
							<pm:field><p:selectBooleanCheckbox value="#{pt.cx}" rendered="#{not c.concluida}"/></pm:field>
							<h:graphicImage value="/img/check_cinza_2.png" rendered="#{c.concluida and pt.cx}" style="width:18px;"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       		</f:facet>
						</p:column>
						<p:column  style=" #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value=""/>
							</f:facet>
							<pm:field><p:selectBooleanCheckbox value="#{pt.c2}" rendered="#{not c.concluida}"/></pm:field>
							<h:graphicImage value="/img/check_cinza_2.png" rendered="#{c.concluida and pt.c2}" style="width:18px;"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       		</f:facet>
						</p:column>
						<p:column  style="#{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value="Coluna 2"/>
							</f:facet>
							<h:outputText value="#{pt.partida.time2.nome}"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       		</f:facet>
						</p:column>
						<p:column  style="text-align:center; #{not empty pt.acerto and not pt.acerto?'background-color:#FBEFEF;':pt.acerto?'background-color:#D8F6CE;':''}">
							<f:facet name="header">
								<h:outputText value=""/>
							</f:facet>
							<h:graphicImage value="/img/erro.gif" rendered="#{not empty pt.acerto and not pt.acerto}" style="width:20px;"/>
							<h:graphicImage value="/img/sucess.png" rendered="#{pt.acerto}" style="width:18px;"/>
							<h:graphicImage value="/img/bola_rolando.gif" rendered="#{pt.partida.statusJogo eq 'EM_ANDAMENTO'}" style="width:20px;"/>
							<h:graphicImage value="/img/relogio.png" rendered="#{pt.partida.statusJogo eq 'AGENDADO'}" style="width:18px;"/>
							<h:graphicImage value="/img/apito.png" rendered="#{pt.partida.statusJogo eq 'FINALIZADO'}" style="width:20px;"/>
							<f:facet name="footer">
				       			<h:outputText value="" style="font-weight:bold;"/>
				       		</f:facet>
						</p:column>
				 	</h:dataTable>
				 </ui:repeat>
	    	</h:form>
	    </pm:content>
	</pm:page>
	
	</h:body>


</html>